"use client";
import React, { useEffect, useState } from "react";
import Image from "next/image";
import Link from "next/link";
import MainHeader from "@/app/components/sidebar/MainHeader/MainHeader";
import QuestionContent from "./QuestionContent";
import "../../../../globals.css";
import { useDispatch, useSelector } from "react-redux";
import { AppDispatch, RootState } from "@/app/redux/store";
import { selectPlaceDetails } from "@/app/redux/placesSlice";
import { getDiscussions, postQuestion } from "@/app/components/utils/Helper";
import { showMessage } from "@/app/components/reuseables/Notification";
import { Loader } from "@/app/components/reuseables/Svgs/Loader";
import useTokenRedirect from "@/app/components/reuseables/useTokenRedirect";
interface ProfileData {
  nickName?: string | null;
  image?: any;
}
const AskQuestion = () => {
  const [text, setText] = useState("");
  const [discussions, setDiscussions] = useState([]);
  const [isLoading, setIsLoading] = useState(false);
  useTokenRedirect();


  const placeDetails = useSelector(selectPlaceDetails);
  const data = useSelector(
    (state: RootState) => state?.userProfile
  ) as ProfileData;
  const sendQuestion = async () => {
    if (!text) {
      return showMessage("Message is required", "error");
    }
    setIsLoading(true);
    const formData = new FormData();
    formData.append("text", text);
    formData.append("placeId", placeDetails?.id);
    await postQuestion(formData)
      .then(() => {
        setText("");
        showMessage("Question posted successfully");
        getDiscussionData();
        setIsLoading(false);
      })
      .catch((err) => {
        console.log(err);
        setIsLoading(false);
        showMessage("Error posting question!", "error");
      });
  };


  const getDiscussionData = async () => {
    setIsLoading(true);
    try {
      const placeId: any = localStorage.getItem("businessId")

      const res = await getDiscussions(placeId ? placeId : placeDetails?.id);

      setDiscussions(res?.data);

      if (res?.status === 204) {
        setIsLoading(false);
      } else {
        setIsLoading(false);
        setDiscussions(res?.data);
        setText("");
      }
    } catch (err) {
      if (err instanceof Error) {
        setIsLoading(false);
        showMessage(err.message || "Failed to fetch discussions", "error");
      } else {
        setIsLoading(false);
        showMessage("Failed to fetch discussions", "error");
      }
    }
  };
  useEffect(() => {
    getDiscussionData();
  }, []);
  return (
    <>
      {isLoading && (
        <div className="loaderScreen">
          <Loader />
        </div>
      )}
      <div className="flex min-h-screen bg-primary">
        {/* Sidebar */}

        <div className="flex flex-col w-full">
          <MainHeader
            title="Ask A Question"
            subtitle=""
            goto="/home"
            bg="purple"
            font="24px"
            paddding={true}
          />
          <div className="ps-32 pe-10 max-sm:ps-12">
            <div className="flex justify-center">
              <div className="py-5">
                <div className="flex items-center gap-5">
                  {placeDetails?.images?.length ? (
                    <div className="h-[68px] w-[68px]">
                      <Image
                        width={68}
                        height={68}
                        className="!h-[68px] !w-[68px] rounded-lg"
                        src={placeDetails?.images[0]}
                        alt="BenDen"
                        unoptimized
                      />
                    </div>
                  ) : (
                    ""
                  )}

                  <div>
                    <div className="font-montserrat text-2xl font-semibold leading-normal text-black">
                      {placeDetails?.name}
                    </div>
                    {placeDetails?.website && (
                      <a
                        href={placeDetails?.website}
                        target="_blank"
                        rel="noopener noreferrer"
                        style={{ color: "#2997FD" }}
                        className="font-montserrat text-xs font-semibold leading-normal"
                      >
                        {placeDetails?.website}
                      </a>
                    )}
                  </div>
                </div>
              </div>
            </div>

            <div className="bg-black p-8 rounded-[22px] shadow-md mb-4 w-full">
              <div className="flex justify-between items-center">
                <div className="flex items-center gap-5 mb-4">
                  {data?.image != null && (

                    <Image
                      src={data?.image}
                      alt="profileAvatar"
                      className="rounded-[10px]"
                      width={47}
                      height={47}
                      unoptimized
                    />
                  )}
                  <div>
                    {data?.nickName !== null && (<div className="text-xl text-white font-bold mr-2">
                      {data?.nickName}
                    </div>)}
                    <div className="text-white text-sm">
                      Posting on community
                    </div>
                  </div>
                </div>

                <div onClick={() => sendQuestion()}>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    className="cursor-pointer"
                    width="29"
                    height="26"
                    viewBox="0 0 29 26"
                    fill="none"
                  >
                    <mask
                      id="path-1-outside-1_67_8089"
                      maskUnits="userSpaceOnUse"
                      x="-2.0785"
                      y="-4.1305"
                      width="31.7945"
                      height="32.6441"
                      fill="black"
                    >
                      <rect
                        fill="white"
                        x="-2.0785"
                        y="-4.1305"
                        width="31.7945"
                        height="32.6441"
                      />
                      <path
                        fillRule="evenodd"
                        clipRule="evenodd"
                        d="M27.3564 0.593996C26.9822 0.689303 25.2592 1.28405 24.5354 1.55492C23.4347 1.97697 23.3583 2.00707 21.5778 2.71646C19.9393 3.36925 18.2857 4.05571 16.8485 4.67052C16.354 4.88692 15.5863 5.21295 15.1416 5.4057C14.6969 5.59846 14.0835 5.85427 13.7814 5.9854C13.4794 6.11653 13.0015 6.32505 12.7103 6.45259C12.2152 6.67401 11.8894 6.82735 10.2129 7.60266C9.02153 8.15512 7.21466 9.01427 6.63233 9.30519C6.12784 9.55598 5.46406 9.87628 4.10262 10.5377C3.84244 10.6645 3.24347 10.9275 2.7663 11.131C2.29346 11.3402 1.70168 11.5888 1.46092 11.6877C0.884287 11.9385 0.705642 12.0718 0.674346 12.2925C0.656565 12.4179 0.681256 12.4981 0.780295 12.5991C0.946572 12.7711 4.17942 14.9743 5.39513 15.7402C5.9022 16.0526 6.73948 16.6164 7.2647 16.9825C7.78991 17.3487 8.26234 17.651 8.3179 17.6589C8.39873 17.6704 8.42335 17.7148 8.42506 17.8481C8.42165 17.9448 8.42046 18.4256 8.41279 18.9157C8.41018 19.4065 8.41013 20.0972 8.41157 20.4504C8.42976 21.594 8.43092 22.1672 8.41749 22.6616C8.37105 25.0239 8.42094 25.4352 8.75433 25.4824C8.82505 25.4925 9.01544 25.4581 9.18128 25.4151C9.487 25.3305 9.91486 25.0023 10.9958 24.03C12.544 22.6328 13.5869 21.783 16.2304 19.748C18.1327 18.2884 17.8718 18.3844 19.1175 18.6481C19.5224 18.7362 20.0774 18.8558 20.3481 18.9096C20.623 18.969 21.1225 19.0808 21.4523 19.1531C22.8713 19.4669 23.103 19.5049 23.3149 19.4275C23.6126 19.3265 23.8443 19.0012 24.0617 18.4129C24.2676 17.8333 24.3191 17.6513 24.8352 15.6114C25.0413 14.8117 25.2288 14.0708 25.2531 13.972C25.4229 13.3565 25.4343 13.3121 25.9074 11.1023C25.9975 10.6853 26.099 10.2239 26.1341 10.0856C26.1648 9.94159 26.2477 9.53891 26.317 9.1957C26.3819 8.84676 26.4541 8.51931 26.4785 8.45626C26.4971 8.39751 26.5622 8.12022 26.6237 7.83218C26.6794 7.54844 26.7817 7.11781 26.8425 6.87062C26.9033 6.62342 27.0221 6.14909 27.1022 5.8023C27.1823 5.4555 27.2968 5.01127 27.3506 4.81423C27.6521 3.74161 28.2238 1.05468 28.1766 0.914967C28.1164 0.758054 27.9032 0.553856 27.7769 0.535947C27.7156 0.532366 27.5259 0.561748 27.355 0.604027L27.3564 0.593996ZM27.2361 2.42396C27.101 3.0853 26.9251 3.8534 26.5754 5.33873C26.4151 5.99649 26.2327 6.77391 26.1662 7.06123C26.0646 7.48684 25.6843 9.18784 25.1909 11.3947C25.1473 11.5932 25.0307 12.0525 24.9441 12.4086C24.8518 12.769 24.6349 13.608 24.4624 14.2794C24.2899 14.9507 24.0822 15.7246 24.0013 16.0047C23.921 16.2799 23.8128 16.6432 23.7742 16.8065C23.7348 16.9749 23.669 17.2214 23.6173 17.3675C23.5722 17.5044 23.4955 17.7545 23.4576 17.9128C23.3666 18.2632 23.177 18.6558 23.0761 18.7132C23.0148 18.7454 22.6778 18.6874 21.85 18.4932C21.2213 18.3478 20.322 18.1486 19.8572 18.0469C18.8518 17.8327 18.0175 17.6479 17.1997 17.4552C16.3422 17.2517 15.3881 17.0396 14.6202 16.8949C14.2543 16.8226 13.936 16.7416 13.9027 16.7215C13.8652 16.6958 14.0077 16.5267 14.323 16.2286C15.5464 15.0871 15.9589 14.6493 18.5466 11.7725C20.3562 9.76765 21.7016 8.27512 23.1376 6.68802C23.8351 5.91202 24.3087 5.37033 24.752 4.82433C25.6674 3.71085 27.248 1.90378 27.3086 1.91237C27.3238 1.91452 27.291 2.14524 27.231 2.42324L27.2361 2.42396ZM25.4194 2.00772C25.413 2.05286 24.3597 2.75794 23.7695 3.10403C23.5728 3.21939 23.3055 3.39638 23.1744 3.48523C23.0433 3.57408 22.8394 3.70377 22.727 3.76969C22.6146 3.83562 22.3033 4.03195 22.0411 4.20965C21.7795 4.38234 21.1434 4.79865 20.6318 5.13542C19.5857 5.82616 18.3632 6.67096 17.1112 7.5781C16.1408 8.27959 15.8476 8.49383 15.1438 8.98753C14.8686 9.18386 14.3773 9.5235 14.0618 9.74992C13.7462 9.97635 13.3118 10.278 13.095 10.4263C12.8788 10.5696 12.4682 10.8491 12.1872 11.0497C11.907 11.2453 11.3645 11.6187 10.9877 11.8773C10.4049 12.2807 9.53554 12.9607 9.13158 13.3383C8.89325 13.5655 8.75588 13.7711 8.76911 13.8958C8.78755 14.0928 8.55035 14.1666 8.22044 14.0585C7.97284 13.9875 4.6778 13.1314 3.9156 12.9466C3.45222 12.8348 2.16011 12.4623 1.98537 12.3863C1.90305 12.3491 1.83297 12.2982 1.83219 12.2674C1.82564 12.2409 2.01083 12.1341 2.24077 12.0388C3.6449 11.4398 5.03451 10.7977 6.84131 9.90275C7.96562 9.35101 11.3221 7.77531 12.9748 7.02221C13.5651 6.74777 14.2895 6.43607 15.0277 6.13655C15.6505 5.88718 16.8297 5.38416 17.0776 5.27094C18.2078 4.75073 20.3522 3.87294 21.887 3.29754C22.2027 3.17859 22.5243 3.05534 22.6078 3.01092C22.69 2.97652 22.9365 2.87334 23.1542 2.79165C23.3763 2.71569 23.7742 2.56235 24.0416 2.45701C24.6465 2.22556 25.381 1.95112 25.407 1.94969C25.4121 1.9504 25.4143 1.97118 25.4114 1.99124L25.4194 2.00772ZM25.0712 3.1914C24.8604 3.47873 23.3757 5.26359 23.0568 5.62257C22.9719 5.71286 22.5544 6.18576 22.1247 6.67228C20.9939 7.95988 19.8423 9.24963 19.2498 9.90238C18.34 10.9041 17.9161 11.3863 17.2733 12.1394C15.6065 14.0826 15.2292 14.4896 14.124 15.5608C13.5509 16.114 13.2637 16.4314 13.2019 16.5761C13.0705 16.8849 12.5612 17.9332 12.4971 18.0213C12.4712 18.0586 12.2521 18.4778 12.02 18.9514C11.7836 19.4193 11.5716 19.8241 11.5464 19.8563C11.5226 19.8785 11.3774 20.1394 11.228 20.4303C11.0735 20.7205 10.8664 21.0902 10.7759 21.2564C10.5976 21.5688 10.1685 22.3778 9.75464 23.1889C9.33569 23.9992 9.16025 24.2916 9.10682 24.2687C9.08298 24.255 9.06867 23.9563 9.0831 23.6002C9.11736 22.7045 9.12463 21.3088 9.10064 20.8602C9.05699 19.9689 9.08147 18.1612 9.1637 16.0188C9.17892 15.6935 9.17669 15.3094 9.17278 15.1554C9.15633 14.8717 9.14986 14.881 9.436 14.7527C9.53618 14.7004 9.53255 14.6897 9.40675 14.5593C9.33589 14.4776 9.21515 14.3479 9.13489 14.2598L8.98669 14.1057L9.28556 13.8514C9.77817 13.43 11.0157 12.5157 11.5237 12.204C12.8293 11.3915 15.443 9.603 17.9254 7.83172C18.3447 7.52791 18.8828 7.14886 19.1336 6.97975C19.3799 6.80492 19.5968 6.6566 19.6141 6.6437C20.2235 6.19801 22.8172 4.51414 24.308 3.59482C24.9514 3.20001 25.1626 3.09181 25.0806 3.19785L25.0712 3.1914ZM3.48461 13.5148C3.69251 13.5749 4.33418 13.7376 4.89575 13.8837C5.46308 14.0256 5.99576 14.1574 6.08021 14.1796C6.92978 14.4024 7.26325 14.4855 7.78148 14.6102C8.11061 14.6876 8.40872 14.7656 8.44266 14.7807C8.47083 14.8 8.48713 15.0121 8.47248 15.2607C8.45421 15.4986 8.44512 15.9988 8.43432 16.3656C8.42857 16.7332 8.41621 17.0384 8.40397 17.052C8.38739 17.0599 8.29419 16.9904 8.1901 16.8887C7.96889 16.668 7.24574 16.1715 6.3645 15.6269C6.00982 15.4027 5.52153 15.1032 5.2745 14.9556C5.03324 14.8037 4.82883 14.6826 4.81368 14.6805C4.7379 14.6697 2.79755 13.3815 2.80252 13.3464C2.80537 13.3263 2.87104 13.3357 2.94973 13.3622C3.02842 13.3887 3.26014 13.4625 3.47309 13.5234L3.48461 13.5148ZM15.552 17.8099C16.1294 17.9532 16.7385 18.0907 16.9103 18.1151C17.082 18.1394 17.2105 18.1781 17.1969 18.2018C17.1883 18.2261 16.8145 18.5364 16.3787 18.8839C15.9379 19.2307 15.2112 19.8132 14.7574 20.1787C14.3037 20.5441 13.5308 21.161 13.0425 21.5523C12.5541 21.9435 11.6596 22.6916 11.054 23.2196C10.4483 23.7477 9.92692 24.1905 9.89953 24.202C9.8397 24.2242 10.0604 23.8308 10.4307 23.254C10.8493 22.592 11.9119 20.8035 12.3008 20.0963C12.5789 19.5883 13.2148 18.3022 13.4396 17.8071C13.51 17.638 13.6056 17.4725 13.6416 17.4366C13.7237 17.3664 13.9149 17.3986 15.5527 17.8049L15.552 17.8099Z"
                      />
                    </mask>
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M27.3564 0.593996C26.9822 0.689303 25.2592 1.28405 24.5354 1.55492C23.4347 1.97697 23.3583 2.00707 21.5778 2.71646C19.9393 3.36925 18.2857 4.05571 16.8485 4.67052C16.354 4.88692 15.5863 5.21295 15.1416 5.4057C14.6969 5.59846 14.0835 5.85427 13.7814 5.9854C13.4794 6.11653 13.0015 6.32505 12.7103 6.45259C12.2152 6.67401 11.8894 6.82735 10.2129 7.60266C9.02153 8.15512 7.21466 9.01427 6.63233 9.30519C6.12784 9.55598 5.46406 9.87628 4.10262 10.5377C3.84244 10.6645 3.24347 10.9275 2.7663 11.131C2.29346 11.3402 1.70168 11.5888 1.46092 11.6877C0.884287 11.9385 0.705642 12.0718 0.674346 12.2925C0.656565 12.4179 0.681256 12.4981 0.780295 12.5991C0.946572 12.7711 4.17942 14.9743 5.39513 15.7402C5.9022 16.0526 6.73948 16.6164 7.2647 16.9825C7.78991 17.3487 8.26234 17.651 8.3179 17.6589C8.39873 17.6704 8.42335 17.7148 8.42506 17.8481C8.42165 17.9448 8.42046 18.4256 8.41279 18.9157C8.41018 19.4065 8.41013 20.0972 8.41157 20.4504C8.42976 21.594 8.43092 22.1672 8.41749 22.6616C8.37105 25.0239 8.42094 25.4352 8.75433 25.4824C8.82505 25.4925 9.01544 25.4581 9.18128 25.4151C9.487 25.3305 9.91486 25.0023 10.9958 24.03C12.544 22.6328 13.5869 21.783 16.2304 19.748C18.1327 18.2884 17.8718 18.3844 19.1175 18.6481C19.5224 18.7362 20.0774 18.8558 20.3481 18.9096C20.623 18.969 21.1225 19.0808 21.4523 19.1531C22.8713 19.4669 23.103 19.5049 23.3149 19.4275C23.6126 19.3265 23.8443 19.0012 24.0617 18.4129C24.2676 17.8333 24.3191 17.6513 24.8352 15.6114C25.0413 14.8117 25.2288 14.0708 25.2531 13.972C25.4229 13.3565 25.4343 13.3121 25.9074 11.1023C25.9975 10.6853 26.099 10.2239 26.1341 10.0856C26.1648 9.94159 26.2477 9.53891 26.317 9.1957C26.3819 8.84676 26.4541 8.51931 26.4785 8.45626C26.4971 8.39751 26.5622 8.12022 26.6237 7.83218C26.6794 7.54844 26.7817 7.11781 26.8425 6.87062C26.9033 6.62342 27.0221 6.14909 27.1022 5.8023C27.1823 5.4555 27.2968 5.01127 27.3506 4.81423C27.6521 3.74161 28.2238 1.05468 28.1766 0.914967C28.1164 0.758054 27.9032 0.553856 27.7769 0.535947C27.7156 0.532366 27.5259 0.561748 27.355 0.604027L27.3564 0.593996ZM27.2361 2.42396C27.101 3.0853 26.9251 3.8534 26.5754 5.33873C26.4151 5.99649 26.2327 6.77391 26.1662 7.06123C26.0646 7.48684 25.6843 9.18784 25.1909 11.3947C25.1473 11.5932 25.0307 12.0525 24.9441 12.4086C24.8518 12.769 24.6349 13.608 24.4624 14.2794C24.2899 14.9507 24.0822 15.7246 24.0013 16.0047C23.921 16.2799 23.8128 16.6432 23.7742 16.8065C23.7348 16.9749 23.669 17.2214 23.6173 17.3675C23.5722 17.5044 23.4955 17.7545 23.4576 17.9128C23.3666 18.2632 23.177 18.6558 23.0761 18.7132C23.0148 18.7454 22.6778 18.6874 21.85 18.4932C21.2213 18.3478 20.322 18.1486 19.8572 18.0469C18.8518 17.8327 18.0175 17.6479 17.1997 17.4552C16.3422 17.2517 15.3881 17.0396 14.6202 16.8949C14.2543 16.8226 13.936 16.7416 13.9027 16.7215C13.8652 16.6958 14.0077 16.5267 14.323 16.2286C15.5464 15.0871 15.9589 14.6493 18.5466 11.7725C20.3562 9.76765 21.7016 8.27512 23.1376 6.68802C23.8351 5.91202 24.3087 5.37033 24.752 4.82433C25.6674 3.71085 27.248 1.90378 27.3086 1.91237C27.3238 1.91452 27.291 2.14524 27.231 2.42324L27.2361 2.42396ZM25.4194 2.00772C25.413 2.05286 24.3597 2.75794 23.7695 3.10403C23.5728 3.21939 23.3055 3.39638 23.1744 3.48523C23.0433 3.57408 22.8394 3.70377 22.727 3.76969C22.6146 3.83562 22.3033 4.03195 22.0411 4.20965C21.7795 4.38234 21.1434 4.79865 20.6318 5.13542C19.5857 5.82616 18.3632 6.67096 17.1112 7.5781C16.1408 8.27959 15.8476 8.49383 15.1438 8.98753C14.8686 9.18386 14.3773 9.5235 14.0618 9.74992C13.7462 9.97635 13.3118 10.278 13.095 10.4263C12.8788 10.5696 12.4682 10.8491 12.1872 11.0497C11.907 11.2453 11.3645 11.6187 10.9877 11.8773C10.4049 12.2807 9.53554 12.9607 9.13158 13.3383C8.89325 13.5655 8.75588 13.7711 8.76911 13.8958C8.78755 14.0928 8.55035 14.1666 8.22044 14.0585C7.97284 13.9875 4.6778 13.1314 3.9156 12.9466C3.45222 12.8348 2.16011 12.4623 1.98537 12.3863C1.90305 12.3491 1.83297 12.2982 1.83219 12.2674C1.82564 12.2409 2.01083 12.1341 2.24077 12.0388C3.6449 11.4398 5.03451 10.7977 6.84131 9.90275C7.96562 9.35101 11.3221 7.77531 12.9748 7.02221C13.5651 6.74777 14.2895 6.43607 15.0277 6.13655C15.6505 5.88718 16.8297 5.38416 17.0776 5.27094C18.2078 4.75073 20.3522 3.87294 21.887 3.29754C22.2027 3.17859 22.5243 3.05534 22.6078 3.01092C22.69 2.97652 22.9365 2.87334 23.1542 2.79165C23.3763 2.71569 23.7742 2.56235 24.0416 2.45701C24.6465 2.22556 25.381 1.95112 25.407 1.94969C25.4121 1.9504 25.4143 1.97118 25.4114 1.99124L25.4194 2.00772ZM25.0712 3.1914C24.8604 3.47873 23.3757 5.26359 23.0568 5.62257C22.9719 5.71286 22.5544 6.18576 22.1247 6.67228C20.9939 7.95988 19.8423 9.24963 19.2498 9.90238C18.34 10.9041 17.9161 11.3863 17.2733 12.1394C15.6065 14.0826 15.2292 14.4896 14.124 15.5608C13.5509 16.114 13.2637 16.4314 13.2019 16.5761C13.0705 16.8849 12.5612 17.9332 12.4971 18.0213C12.4712 18.0586 12.2521 18.4778 12.02 18.9514C11.7836 19.4193 11.5716 19.8241 11.5464 19.8563C11.5226 19.8785 11.3774 20.1394 11.228 20.4303C11.0735 20.7205 10.8664 21.0902 10.7759 21.2564C10.5976 21.5688 10.1685 22.3778 9.75464 23.1889C9.33569 23.9992 9.16025 24.2916 9.10682 24.2687C9.08298 24.255 9.06867 23.9563 9.0831 23.6002C9.11736 22.7045 9.12463 21.3088 9.10064 20.8602C9.05699 19.9689 9.08147 18.1612 9.1637 16.0188C9.17892 15.6935 9.17669 15.3094 9.17278 15.1554C9.15633 14.8717 9.14986 14.881 9.436 14.7527C9.53618 14.7004 9.53255 14.6897 9.40675 14.5593C9.33589 14.4776 9.21515 14.3479 9.13489 14.2598L8.98669 14.1057L9.28556 13.8514C9.77817 13.43 11.0157 12.5157 11.5237 12.204C12.8293 11.3915 15.443 9.603 17.9254 7.83172C18.3447 7.52791 18.8828 7.14886 19.1336 6.97975C19.3799 6.80492 19.5968 6.6566 19.6141 6.6437C20.2235 6.19801 22.8172 4.51414 24.308 3.59482C24.9514 3.20001 25.1626 3.09181 25.0806 3.19785L25.0712 3.1914ZM3.48461 13.5148C3.69251 13.5749 4.33418 13.7376 4.89575 13.8837C5.46308 14.0256 5.99576 14.1574 6.08021 14.1796C6.92978 14.4024 7.26325 14.4855 7.78148 14.6102C8.11061 14.6876 8.40872 14.7656 8.44266 14.7807C8.47083 14.8 8.48713 15.0121 8.47248 15.2607C8.45421 15.4986 8.44512 15.9988 8.43432 16.3656C8.42857 16.7332 8.41621 17.0384 8.40397 17.052C8.38739 17.0599 8.29419 16.9904 8.1901 16.8887C7.96889 16.668 7.24574 16.1715 6.3645 15.6269C6.00982 15.4027 5.52153 15.1032 5.2745 14.9556C5.03324 14.8037 4.82883 14.6826 4.81368 14.6805C4.7379 14.6697 2.79755 13.3815 2.80252 13.3464C2.80537 13.3263 2.87104 13.3357 2.94973 13.3622C3.02842 13.3887 3.26014 13.4625 3.47309 13.5234L3.48461 13.5148ZM15.552 17.8099C16.1294 17.9532 16.7385 18.0907 16.9103 18.1151C17.082 18.1394 17.2105 18.1781 17.1969 18.2018C17.1883 18.2261 16.8145 18.5364 16.3787 18.8839C15.9379 19.2307 15.2112 19.8132 14.7574 20.1787C14.3037 20.5441 13.5308 21.161 13.0425 21.5523C12.5541 21.9435 11.6596 22.6916 11.054 23.2196C10.4483 23.7477 9.92692 24.1905 9.89953 24.202C9.8397 24.2242 10.0604 23.8308 10.4307 23.254C10.8493 22.592 11.9119 20.8035 12.3008 20.0963C12.5789 19.5883 13.2148 18.3022 13.4396 17.8071C13.51 17.638 13.6056 17.4725 13.6416 17.4366C13.7237 17.3664 13.9149 17.3986 15.5527 17.8049L15.552 17.8099Z"
                      fill="white"
                    />
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M27.3564 0.593996C26.9822 0.689303 25.2592 1.28405 24.5354 1.55492C23.4347 1.97697 23.3583 2.00707 21.5778 2.71646C19.9393 3.36925 18.2857 4.05571 16.8485 4.67052C16.354 4.88692 15.5863 5.21295 15.1416 5.4057C14.6969 5.59846 14.0835 5.85427 13.7814 5.9854C13.4794 6.11653 13.0015 6.32505 12.7103 6.45259C12.2152 6.67401 11.8894 6.82735 10.2129 7.60266C9.02153 8.15512 7.21466 9.01427 6.63233 9.30519C6.12784 9.55598 5.46406 9.87628 4.10262 10.5377C3.84244 10.6645 3.24347 10.9275 2.7663 11.131C2.29346 11.3402 1.70168 11.5888 1.46092 11.6877C0.884287 11.9385 0.705642 12.0718 0.674346 12.2925C0.656565 12.4179 0.681256 12.4981 0.780295 12.5991C0.946572 12.7711 4.17942 14.9743 5.39513 15.7402C5.9022 16.0526 6.73948 16.6164 7.2647 16.9825C7.78991 17.3487 8.26234 17.651 8.3179 17.6589C8.39873 17.6704 8.42335 17.7148 8.42506 17.8481C8.42165 17.9448 8.42046 18.4256 8.41279 18.9157C8.41018 19.4065 8.41013 20.0972 8.41157 20.4504C8.42976 21.594 8.43092 22.1672 8.41749 22.6616C8.37105 25.0239 8.42094 25.4352 8.75433 25.4824C8.82505 25.4925 9.01544 25.4581 9.18128 25.4151C9.487 25.3305 9.91486 25.0023 10.9958 24.03C12.544 22.6328 13.5869 21.783 16.2304 19.748C18.1327 18.2884 17.8718 18.3844 19.1175 18.6481C19.5224 18.7362 20.0774 18.8558 20.3481 18.9096C20.623 18.969 21.1225 19.0808 21.4523 19.1531C22.8713 19.4669 23.103 19.5049 23.3149 19.4275C23.6126 19.3265 23.8443 19.0012 24.0617 18.4129C24.2676 17.8333 24.3191 17.6513 24.8352 15.6114C25.0413 14.8117 25.2288 14.0708 25.2531 13.972C25.4229 13.3565 25.4343 13.3121 25.9074 11.1023C25.9975 10.6853 26.099 10.2239 26.1341 10.0856C26.1648 9.94159 26.2477 9.53891 26.317 9.1957C26.3819 8.84676 26.4541 8.51931 26.4785 8.45626C26.4971 8.39751 26.5622 8.12022 26.6237 7.83218C26.6794 7.54844 26.7817 7.11781 26.8425 6.87062C26.9033 6.62342 27.0221 6.14909 27.1022 5.8023C27.1823 5.4555 27.2968 5.01127 27.3506 4.81423C27.6521 3.74161 28.2238 1.05468 28.1766 0.914967C28.1164 0.758054 27.9032 0.553856 27.7769 0.535947C27.7156 0.532366 27.5259 0.561748 27.355 0.604027L27.3564 0.593996ZM27.2361 2.42396C27.101 3.0853 26.9251 3.8534 26.5754 5.33873C26.4151 5.99649 26.2327 6.77391 26.1662 7.06123C26.0646 7.48684 25.6843 9.18784 25.1909 11.3947C25.1473 11.5932 25.0307 12.0525 24.9441 12.4086C24.8518 12.769 24.6349 13.608 24.4624 14.2794C24.2899 14.9507 24.0822 15.7246 24.0013 16.0047C23.921 16.2799 23.8128 16.6432 23.7742 16.8065C23.7348 16.9749 23.669 17.2214 23.6173 17.3675C23.5722 17.5044 23.4955 17.7545 23.4576 17.9128C23.3666 18.2632 23.177 18.6558 23.0761 18.7132C23.0148 18.7454 22.6778 18.6874 21.85 18.4932C21.2213 18.3478 20.322 18.1486 19.8572 18.0469C18.8518 17.8327 18.0175 17.6479 17.1997 17.4552C16.3422 17.2517 15.3881 17.0396 14.6202 16.8949C14.2543 16.8226 13.936 16.7416 13.9027 16.7215C13.8652 16.6958 14.0077 16.5267 14.323 16.2286C15.5464 15.0871 15.9589 14.6493 18.5466 11.7725C20.3562 9.76765 21.7016 8.27512 23.1376 6.68802C23.8351 5.91202 24.3087 5.37033 24.752 4.82433C25.6674 3.71085 27.248 1.90378 27.3086 1.91237C27.3238 1.91452 27.291 2.14524 27.231 2.42324L27.2361 2.42396ZM25.4194 2.00772C25.413 2.05286 24.3597 2.75794 23.7695 3.10403C23.5728 3.21939 23.3055 3.39638 23.1744 3.48523C23.0433 3.57408 22.8394 3.70377 22.727 3.76969C22.6146 3.83562 22.3033 4.03195 22.0411 4.20965C21.7795 4.38234 21.1434 4.79865 20.6318 5.13542C19.5857 5.82616 18.3632 6.67096 17.1112 7.5781C16.1408 8.27959 15.8476 8.49383 15.1438 8.98753C14.8686 9.18386 14.3773 9.5235 14.0618 9.74992C13.7462 9.97635 13.3118 10.278 13.095 10.4263C12.8788 10.5696 12.4682 10.8491 12.1872 11.0497C11.907 11.2453 11.3645 11.6187 10.9877 11.8773C10.4049 12.2807 9.53554 12.9607 9.13158 13.3383C8.89325 13.5655 8.75588 13.7711 8.76911 13.8958C8.78755 14.0928 8.55035 14.1666 8.22044 14.0585C7.97284 13.9875 4.6778 13.1314 3.9156 12.9466C3.45222 12.8348 2.16011 12.4623 1.98537 12.3863C1.90305 12.3491 1.83297 12.2982 1.83219 12.2674C1.82564 12.2409 2.01083 12.1341 2.24077 12.0388C3.6449 11.4398 5.03451 10.7977 6.84131 9.90275C7.96562 9.35101 11.3221 7.77531 12.9748 7.02221C13.5651 6.74777 14.2895 6.43607 15.0277 6.13655C15.6505 5.88718 16.8297 5.38416 17.0776 5.27094C18.2078 4.75073 20.3522 3.87294 21.887 3.29754C22.2027 3.17859 22.5243 3.05534 22.6078 3.01092C22.69 2.97652 22.9365 2.87334 23.1542 2.79165C23.3763 2.71569 23.7742 2.56235 24.0416 2.45701C24.6465 2.22556 25.381 1.95112 25.407 1.94969C25.4121 1.9504 25.4143 1.97118 25.4114 1.99124L25.4194 2.00772ZM25.0712 3.1914C24.8604 3.47873 23.3757 5.26359 23.0568 5.62257C22.9719 5.71286 22.5544 6.18576 22.1247 6.67228C20.9939 7.95988 19.8423 9.24963 19.2498 9.90238C18.34 10.9041 17.9161 11.3863 17.2733 12.1394C15.6065 14.0826 15.2292 14.4896 14.124 15.5608C13.5509 16.114 13.2637 16.4314 13.2019 16.5761C13.0705 16.8849 12.5612 17.9332 12.4971 18.0213C12.4712 18.0586 12.2521 18.4778 12.02 18.9514C11.7836 19.4193 11.5716 19.8241 11.5464 19.8563C11.5226 19.8785 11.3774 20.1394 11.228 20.4303C11.0735 20.7205 10.8664 21.0902 10.7759 21.2564C10.5976 21.5688 10.1685 22.3778 9.75464 23.1889C9.33569 23.9992 9.16025 24.2916 9.10682 24.2687C9.08298 24.255 9.06867 23.9563 9.0831 23.6002C9.11736 22.7045 9.12463 21.3088 9.10064 20.8602C9.05699 19.9689 9.08147 18.1612 9.1637 16.0188C9.17892 15.6935 9.17669 15.3094 9.17278 15.1554C9.15633 14.8717 9.14986 14.881 9.436 14.7527C9.53618 14.7004 9.53255 14.6897 9.40675 14.5593C9.33589 14.4776 9.21515 14.3479 9.13489 14.2598L8.98669 14.1057L9.28556 13.8514C9.77817 13.43 11.0157 12.5157 11.5237 12.204C12.8293 11.3915 15.443 9.603 17.9254 7.83172C18.3447 7.52791 18.8828 7.14886 19.1336 6.97975C19.3799 6.80492 19.5968 6.6566 19.6141 6.6437C20.2235 6.19801 22.8172 4.51414 24.308 3.59482C24.9514 3.20001 25.1626 3.09181 25.0806 3.19785L25.0712 3.1914ZM3.48461 13.5148C3.69251 13.5749 4.33418 13.7376 4.89575 13.8837C5.46308 14.0256 5.99576 14.1574 6.08021 14.1796C6.92978 14.4024 7.26325 14.4855 7.78148 14.6102C8.11061 14.6876 8.40872 14.7656 8.44266 14.7807C8.47083 14.8 8.48713 15.0121 8.47248 15.2607C8.45421 15.4986 8.44512 15.9988 8.43432 16.3656C8.42857 16.7332 8.41621 17.0384 8.40397 17.052C8.38739 17.0599 8.29419 16.9904 8.1901 16.8887C7.96889 16.668 7.24574 16.1715 6.3645 15.6269C6.00982 15.4027 5.52153 15.1032 5.2745 14.9556C5.03324 14.8037 4.82883 14.6826 4.81368 14.6805C4.7379 14.6697 2.79755 13.3815 2.80252 13.3464C2.80537 13.3263 2.87104 13.3357 2.94973 13.3622C3.02842 13.3887 3.26014 13.4625 3.47309 13.5234L3.48461 13.5148ZM15.552 17.8099C16.1294 17.9532 16.7385 18.0907 16.9103 18.1151C17.082 18.1394 17.2105 18.1781 17.1969 18.2018C17.1883 18.2261 16.8145 18.5364 16.3787 18.8839C15.9379 19.2307 15.2112 19.8132 14.7574 20.1787C14.3037 20.5441 13.5308 21.161 13.0425 21.5523C12.5541 21.9435 11.6596 22.6916 11.054 23.2196C10.4483 23.7477 9.92692 24.1905 9.89953 24.202C9.8397 24.2242 10.0604 23.8308 10.4307 23.254C10.8493 22.592 11.9119 20.8035 12.3008 20.0963C12.5789 19.5883 13.2148 18.3022 13.4396 17.8071C13.51 17.638 13.6056 17.4725 13.6416 17.4366C13.7237 17.3664 13.9149 17.3986 15.5527 17.8049L15.552 17.8099Z"
                      stroke="white"
                      stroke-width="0.863522"
                      mask="url(#path-1-outside-1_67_8089)"
                    />
                  </svg>
                </div>
              </div>

              <textarea
                className="w-full h-36 border rounded-[10px] p-4 focus:outline-none focus:ring focus:border-blue-300
                            font-montserrat text-xs font-normal leading-normal text-black placeholder:text-black"
                placeholder="Get advice from the business and community..."
                value={text}
                onChange={(e) => setText(e.target.value)}
              />
            </div>

            <div className="h-[1px] w-full bg-black my-5"></div>

            <div className="flex justify-center items-center mb-7 pt-3">
              <div>
                <h1 className="font-montserrat text-xl font-semibold text-center leading-normal text-black">
                  Questions and Answers
                </h1>
                <p className="font-montserrat text-[10px] font-normal text-center leading-normal text-black">
                  Others are asking...
                </p>
              </div>
            </div>
            <QuestionContent discussions={discussions} placeDetails={placeDetails} />
          </div>
        </div>
      </div>
    </>
  );
};

export default AskQuestion;
